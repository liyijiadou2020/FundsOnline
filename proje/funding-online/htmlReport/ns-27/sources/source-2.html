


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=GBK"> 
  <title>Coverage Report > SubclassDynamicTypeBuilder</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">net.bytebuddy.dynamic.scaffold.subclass</a>
</div>

<h1>Coverage Summary for Class: SubclassDynamicTypeBuilder (net.bytebuddy.dynamic.scaffold.subclass)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">SubclassDynamicTypeBuilder</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (2/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (19/19)
  </span>
</td>
</tr>
  <tr>
    <td class="name">SubclassDynamicTypeBuilder$InstrumentableMatcher</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (2/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (4/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (25/25)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;//
&nbsp;// Source code recreated from a .class file by IntelliJ IDEA
&nbsp;// (powered by FernFlower decompiler)
&nbsp;//
&nbsp;
&nbsp;package net.bytebuddy.dynamic.scaffold.subclass;
&nbsp;
&nbsp;import java.util.Collections;
&nbsp;import java.util.Iterator;
&nbsp;import java.util.List;
&nbsp;import net.bytebuddy.ClassFileVersion;
&nbsp;import net.bytebuddy.asm.AsmVisitorWrapper;
&nbsp;import net.bytebuddy.asm.AsmVisitorWrapper.NoOp;
&nbsp;import net.bytebuddy.build.HashCodeAndEqualsPlugin.Enhance;
&nbsp;import net.bytebuddy.description.method.MethodDescription;
&nbsp;import net.bytebuddy.description.type.TypeDescription;
&nbsp;import net.bytebuddy.dynamic.DynamicType;
&nbsp;import net.bytebuddy.dynamic.TypeResolutionStrategy;
&nbsp;import net.bytebuddy.dynamic.VisibilityBridgeStrategy;
&nbsp;import net.bytebuddy.dynamic.scaffold.ClassWriterStrategy;
&nbsp;import net.bytebuddy.dynamic.scaffold.FieldRegistry;
&nbsp;import net.bytebuddy.dynamic.scaffold.InstrumentedType;
&nbsp;import net.bytebuddy.dynamic.scaffold.MethodGraph;
&nbsp;import net.bytebuddy.dynamic.scaffold.MethodRegistry;
&nbsp;import net.bytebuddy.dynamic.scaffold.RecordComponentRegistry;
&nbsp;import net.bytebuddy.dynamic.scaffold.TypeValidation;
&nbsp;import net.bytebuddy.dynamic.scaffold.TypeWriter.Default;
&nbsp;import net.bytebuddy.dynamic.scaffold.subclass.SubclassImplementationTarget.Factory;
&nbsp;import net.bytebuddy.implementation.Implementation;
&nbsp;import net.bytebuddy.implementation.attribute.AnnotationRetention;
&nbsp;import net.bytebuddy.implementation.attribute.AnnotationValueFilter;
&nbsp;import net.bytebuddy.implementation.attribute.TypeAttributeAppender;
&nbsp;import net.bytebuddy.implementation.attribute.TypeAttributeAppender.ForInstrumentedType;
&nbsp;import net.bytebuddy.implementation.auxiliary.AuxiliaryType;
&nbsp;import net.bytebuddy.matcher.ElementMatcher;
&nbsp;import net.bytebuddy.matcher.ElementMatchers;
&nbsp;import net.bytebuddy.matcher.LatentMatcher;
&nbsp;import net.bytebuddy.pool.TypePool;
&nbsp;import net.bytebuddy.pool.TypePool.ClassLoading;
&nbsp;
&nbsp;@Enhance
&nbsp;public class SubclassDynamicTypeBuilder&lt;T&gt; extends DynamicType.Builder.AbstractBase.Adapter&lt;T&gt; {
&nbsp;    private final ConstructorStrategy constructorStrategy;
&nbsp;
&nbsp;    public SubclassDynamicTypeBuilder(InstrumentedType.WithFlexibleName instrumentedType, ClassFileVersion classFileVersion, AuxiliaryType.NamingStrategy auxiliaryTypeNamingStrategy, AnnotationValueFilter.Factory annotationValueFilterFactory, AnnotationRetention annotationRetention, Implementation.Context.Factory implementationContextFactory, MethodGraph.Compiler methodGraphCompiler, TypeValidation typeValidation, VisibilityBridgeStrategy visibilityBridgeStrategy, ClassWriterStrategy classWriterStrategy, LatentMatcher&lt;? super MethodDescription&gt; ignoredMethods, ConstructorStrategy constructorStrategy) {
&nbsp;        this(instrumentedType, new FieldRegistry.Default(), new MethodRegistry.Default(), new RecordComponentRegistry.Default(), ForInstrumentedType.INSTANCE, NoOp.INSTANCE, classFileVersion, auxiliaryTypeNamingStrategy, annotationValueFilterFactory, annotationRetention, implementationContextFactory, methodGraphCompiler, typeValidation, visibilityBridgeStrategy, classWriterStrategy, ignoredMethods, Collections.emptyList(), constructorStrategy);
&nbsp;    }
&nbsp;
&nbsp;    protected SubclassDynamicTypeBuilder(InstrumentedType.WithFlexibleName instrumentedType, FieldRegistry fieldRegistry, MethodRegistry methodRegistry, RecordComponentRegistry recordComponentRegistry, TypeAttributeAppender typeAttributeAppender, AsmVisitorWrapper asmVisitorWrapper, ClassFileVersion classFileVersion, AuxiliaryType.NamingStrategy auxiliaryTypeNamingStrategy, AnnotationValueFilter.Factory annotationValueFilterFactory, AnnotationRetention annotationRetention, Implementation.Context.Factory implementationContextFactory, MethodGraph.Compiler methodGraphCompiler, TypeValidation typeValidation, VisibilityBridgeStrategy visibilityBridgeStrategy, ClassWriterStrategy classWriterStrategy, LatentMatcher&lt;? super MethodDescription&gt; ignoredMethods, List&lt;? extends DynamicType&gt; auxiliaryTypes, ConstructorStrategy constructorStrategy) {
&nbsp;        super(instrumentedType, fieldRegistry, methodRegistry, recordComponentRegistry, typeAttributeAppender, asmVisitorWrapper, classFileVersion, auxiliaryTypeNamingStrategy, annotationValueFilterFactory, annotationRetention, implementationContextFactory, methodGraphCompiler, typeValidation, visibilityBridgeStrategy, classWriterStrategy, ignoredMethods, auxiliaryTypes);
&nbsp;        this.constructorStrategy = constructorStrategy;
&nbsp;    }
&nbsp;
&nbsp;    protected DynamicType.Builder&lt;T&gt; materialize(InstrumentedType.WithFlexibleName instrumentedType, FieldRegistry fieldRegistry, MethodRegistry methodRegistry, RecordComponentRegistry recordComponentRegistry, TypeAttributeAppender typeAttributeAppender, AsmVisitorWrapper asmVisitorWrapper, ClassFileVersion classFileVersion, AuxiliaryType.NamingStrategy auxiliaryTypeNamingStrategy, AnnotationValueFilter.Factory annotationValueFilterFactory, AnnotationRetention annotationRetention, Implementation.Context.Factory implementationContextFactory, MethodGraph.Compiler methodGraphCompiler, TypeValidation typeValidation, VisibilityBridgeStrategy visibilityBridgeStrategy, ClassWriterStrategy classWriterStrategy, LatentMatcher&lt;? super MethodDescription&gt; ignoredMethods, List&lt;? extends DynamicType&gt; auxiliaryTypes) {
&nbsp;        return new SubclassDynamicTypeBuilder(instrumentedType, fieldRegistry, methodRegistry, recordComponentRegistry, typeAttributeAppender, asmVisitorWrapper, classFileVersion, auxiliaryTypeNamingStrategy, annotationValueFilterFactory, annotationRetention, implementationContextFactory, methodGraphCompiler, typeValidation, visibilityBridgeStrategy, classWriterStrategy, ignoredMethods, auxiliaryTypes, this.constructorStrategy);
&nbsp;    }
&nbsp;
&nbsp;    public DynamicType.Unloaded&lt;T&gt; make(TypeResolutionStrategy typeResolutionStrategy) {
&nbsp;        return this.make(typeResolutionStrategy, ClassLoading.ofSystemLoader());
&nbsp;    }
&nbsp;
&nbsp;    public DynamicType.Unloaded&lt;T&gt; make(TypeResolutionStrategy typeResolutionStrategy, TypePool typePool) {
&nbsp;        MethodRegistry.Compiled methodRegistry = this.constructorStrategy.inject(this.instrumentedType, this.methodRegistry).prepare(this.applyConstructorStrategy(this.instrumentedType), this.methodGraphCompiler, this.typeValidation, this.visibilityBridgeStrategy, new InstrumentableMatcher(this.ignoredMethods)).compile(Factory.SUPER_CLASS, this.classFileVersion);
&nbsp;        return Default.forCreation(methodRegistry, this.auxiliaryTypes, this.fieldRegistry.compile(methodRegistry.getInstrumentedType()), this.recordComponentRegistry.compile(methodRegistry.getInstrumentedType()), this.typeAttributeAppender, this.asmVisitorWrapper, this.classFileVersion, this.annotationValueFilterFactory, this.annotationRetention, this.auxiliaryTypeNamingStrategy, this.implementationContextFactory, this.typeValidation, this.classWriterStrategy, typePool).make(typeResolutionStrategy.resolve());
&nbsp;    }
&nbsp;
&nbsp;    private InstrumentedType applyConstructorStrategy(InstrumentedType instrumentedType) {
&nbsp;        MethodDescription.Token token;
&nbsp;        if (!instrumentedType.isInterface()) {
&nbsp;            for(Iterator var2 = this.constructorStrategy.extractConstructors(instrumentedType).iterator(); var2.hasNext(); instrumentedType = instrumentedType.withMethod(token)) {
&nbsp;                token = (MethodDescription.Token)var2.next();
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        return instrumentedType;
&nbsp;    }
&nbsp;
&nbsp;    public boolean equals(Object var1) {
&nbsp;        if (!super.equals(var1)) {
&nbsp;            return false;
<b class="fc">&nbsp;        } else if (this == var1) {</b>
&nbsp;            return true;
&nbsp;        } else if (var1 == null) {
&nbsp;            return false;
&nbsp;        } else if (this.getClass() != var1.getClass()) {
&nbsp;            return false;
&nbsp;        } else {
&nbsp;            return this.constructorStrategy.equals(((SubclassDynamicTypeBuilder)var1).constructorStrategy);
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public int hashCode() {
&nbsp;        return super.hashCode() * 31 + this.constructorStrategy.hashCode();
&nbsp;    }
&nbsp;
&nbsp;    @Enhance
<b class="fc">&nbsp;    protected static class InstrumentableMatcher implements LatentMatcher&lt;MethodDescription&gt; {</b>
&nbsp;        private final LatentMatcher&lt;? super MethodDescription&gt; ignoredMethods;
&nbsp;
&nbsp;        protected InstrumentableMatcher(LatentMatcher&lt;? super MethodDescription&gt; ignoredMethods) {
&nbsp;            this.ignoredMethods = ignoredMethods;
&nbsp;        }
&nbsp;
&nbsp;        public ElementMatcher&lt;? super MethodDescription&gt; resolve(TypeDescription typeDescription) {
&nbsp;            return ElementMatchers.isVirtual().and(ElementMatchers.not(ElementMatchers.isFinal())).and(ElementMatchers.isVisibleTo(typeDescription)).and(ElementMatchers.not(this.ignoredMethods.resolve(typeDescription))).or(ElementMatchers.isDeclaredBy(typeDescription));
&nbsp;        }
&nbsp;
&nbsp;        public boolean equals(Object var1) {
&nbsp;            if (this == var1) {
&nbsp;                return true;
&nbsp;            } else if (var1 == null) {
&nbsp;                return false;
&nbsp;            } else if (this.getClass() != var1.getClass()) {
&nbsp;                return false;
&nbsp;            } else {
&nbsp;                return this.ignoredMethods.equals(((InstrumentableMatcher)var1).ignoredMethods);
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        public int hashCode() {
&nbsp;            return this.getClass().hashCode() * 31 + this.ignoredMethods.hashCode();
&nbsp;        }
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-03-22 12:48</div>
</div>
</body>
</html>
